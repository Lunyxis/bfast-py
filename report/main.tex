%% \documentclass[a4paper]{article}
\documentclass[a4paper]{report}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage[english]{babel}
\usepackage{float}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{stmaryrd}
\usepackage{a4wide}
\usepackage[nottoc]{tocbibind}
\usepackage{subfiles}
\usepackage{multirow}
\usepackage{titlesec}
\usepackage{hyperref}
\usepackage[shortlabels]{enumitem}

\lstset{
  frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  formfeed=newpage,
  tabsize=4,
  comment=[l]{\#},
  breaklines=true,
  basicstyle=\small
}

%% Add custom commands to math mode
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\newcommand{\prob}[1]{\mathbb{P}\left(#1\right)}
\newcommand{\expect}[1]{\mathbb{E}\left(#1\right)}
\newcommand{\avg}[1]{\sum_{i=1}^{#1}X_i}
\newcommand{\dotpr}[2]{\langle #1,\; #2 \rangle}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

\def\biblio{\bibliographystyle{plain}\bibliography{mybib}}

%% Remove subsection from the table of contents
\setcounter{tocdepth}{1}

%% Rename bibliography
\renewcommand{\bibname}{References}

%% Reduce vertical space in chapter
\titleformat{\chapter}[display]   
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}   
\titlespacing*{\chapter}{0pt}{-50pt}{40pt}

\title{
  \vspace{-3cm} 
  Project Outside the Course Scope \\
  \vspace*{0.25cm}
  \large Algorithms for Change Detection in Satellite Image Time Series
}
\author{Dmitry Serykh\\ \small\href{mailto:dmise@di.ku.dk}{dmise@di.ku.dk}}

\begin{document}
\def\biblio{}
\maketitle
{\small\tableofcontents}
%% \tableofcontents

\subfile{intro.tex}

\subfile{stl.tex}

\subfile{mosum.tex}

\subfile{breakpoints.tex}

\subfile{bfast0n.tex}

\subfile{bfast.tex}

\subfile{implementation.tex}

\subfile{validation.tex}

\subfile{conclusion.tex}

\bibliography{mybib}{}
\bibliographystyle{plain}

\appendix
\subfile{source_code.tex}

\end{document}


% }

%% \begin{figure}
%%   \centering
%%   \begin{subfigure}[b]{\textwidth}
%%     \centering
%%     \includegraphics[scale=0.8]{handin/plt51}
%%     \caption{Classification of the training set}
%%   \end{subfigure}
%%   \begin{subfigure}[b]{\textwidth}
%%     \centering
%%     \includegraphics[scale=0.8]{handin/plt52}
%%     \caption{Classification of the test set}
%%   \end{subfigure}
%%   \caption{Exercise 5: Logistic Regression Applied to the Datasets}
%%   \label{plt5}
%% \end{figure}

%% \begin{lstlisting}[caption="Calculation of g"]
%% def calc_g(Xs, y, w):
%%     N = np.shape(Xs)[0]
%%     # use matrix X of xs instead of for-loop = much faster
%%     X = np.c_[Xs, np.ones(N)]
%%     num = y.T * X
%%     denum = 1 + np.exp(y * (w @ X.T))
%%     M = num.T/denum
%%     # return mean of each row
%%     return (-1 * np.mean(M, axis=1))
%% \end{lstlisting}
